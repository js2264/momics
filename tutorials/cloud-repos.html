<!doctype html>
<html class="no-js" lang="en" data-content_root="../">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="Index" href="../genindex.html" /><link rel="search" title="Search" href="../search.html" /><link rel="next" title="API Reference" href="../api/index.html" /><link rel="prev" title="Train neural networks with momics and tensorflow" href="nn-training-any2cov.html" />

    <link rel="shortcut icon" href="../_static/logo.svg"/><!-- Generated with Sphinx 8.1.3 and Furo 2024.08.06 -->
        <title>Managing cloud-hosted momics repositories - momics</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=8f2a1f02" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo.css?v=354aac6f" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css?v=4ae1632d" />
    <link rel="stylesheet" type="text/css" href="../_static/nbsphinx-code-cells.css?v=2aa19091" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo-extensions.css?v=302659d7" />
    <link rel="stylesheet" type="text/css" href="../_static/css/custom.css?v=f1559f00" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../index.html"><div class="brand">momics</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo" src="../_static/logo.svg" alt="Logo"/>
  </div>
  
  <span class="sidebar-brand-text">momics</span>
  
</a><form class="sidebar-search-container" method="get" action="../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">User Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../user_guide/intro.html">What is <code class="docutils literal notranslate"><span class="pre">momics</span></code>?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user_guide/concepts.html">Concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user_guide/get-started.html">Get started with <code class="docutils literal notranslate"><span class="pre">momics</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../user_guide/api.html">Introduction to <code class="docutils literal notranslate"><span class="pre">momics</span></code> API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user_guide/cli.html">Introduction to <code class="docutils literal notranslate"><span class="pre">momics</span></code> CLI</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Tutorials</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="integrating-multiomics.html">Integrating multi-omics data with <code class="docutils literal notranslate"><span class="pre">momics</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="nn-training-cov2cov.html">Train neural networks with <code class="docutils literal notranslate"><span class="pre">momics</span></code> and <code class="docutils literal notranslate"><span class="pre">tensorflow</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="nn-training-seq2cov.html">Predict genomic coverage from DNA sequence</a></li>
<li class="toctree-l1"><a class="reference internal" href="nn-training-any2cov.html">Train neural networks with <code class="docutils literal notranslate"><span class="pre">momics</span></code> and <code class="docutils literal notranslate"><span class="pre">tensorflow</span></code></a></li>
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">Managing cloud-hosted <code class="docutils literal notranslate"><span class="pre">momics</span></code> repositories</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">References</span></p>
<ul>
<li class="toctree-l1 has-children"><a class="reference internal" href="../api/index.html">API Reference</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of API Reference</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../api/momics/index.html">momics</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle navigation of momics</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../api/momics/aggregate/index.html">momics.aggregate</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/momics/config/index.html">momics.config</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/momics/dataset/index.html">momics.dataset</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/momics/logging/index.html">momics.logging</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/momics/momics/index.html">momics.momics</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/momics/nn/index.html">momics.nn</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/momics/query/index.html">momics.query</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/momics/streamer/index.html">momics.streamer</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/momics/utils/index.html">momics.utils</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/momics/version/index.html">momics.version</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../cli/index.html">CLI Reference</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle navigation of CLI Reference</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="simple">
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Changelog</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../CHANGES.html">Changelog</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="view-this-page">
  <a class="muted-link" href="../_sources/tutorials/cloud-repos.ipynb" title="View this page">
    <svg><use href="#svg-eye"></use></svg>
    <span class="visually-hidden">View this page</span>
  </a>
</div>
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <style>
    .output_area {
        max-height: 300px;
        overflow-y: auto;
    }
</style><section id="Managing-cloud-hosted-momics-repositories">
<h1>Managing cloud-hosted <code class="docutils literal notranslate"><span class="pre">momics</span></code> repositories<a class="headerlink" href="#Managing-cloud-hosted-momics-repositories" title="Link to this heading">¶</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">momics</span></code> provides native support for cloud-hosted repositories. This means that you can use <code class="docutils literal notranslate"><span class="pre">momics</span></code> to create repositories directly on cloud storage services like S3, GCP or Azure buckets. Here, we will see how to create, manage and query cloud-hosted repositories using <code class="docutils literal notranslate"><span class="pre">momics</span></code>.</p>
<section id="Prerequisites">
<h2>Prerequisites<a class="headerlink" href="#Prerequisites" title="Link to this heading">¶</a></h2>
<p>To use cloud-hosted repositories, you need to have the following:</p>
<ol class="arabic simple">
<li><p>A cloud storage service account with the necessary permissions to create and manage buckets.</p></li>
<li><p>The necessary credentials to access the cloud storage service. This could be in the form of a service account key, or a token.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">momics</span></code> package installed in your Python environment.</p></li>
</ol>
<p>We will use an S3 bucket for demonstration purposes. You can use the same steps for other cloud storage services as well.</p>
</section>
<section id="Creating-a-momics-repository-on-an-S3-bucket">
<h2>Creating a <code class="docutils literal notranslate"><span class="pre">momics</span></code> repository on an S3 bucket<a class="headerlink" href="#Creating-a-momics-repository-on-an-S3-bucket" title="Link to this heading">¶</a></h2>
<p>The first step to create a S3-hosted repository is set up the configuration that <code class="docutils literal notranslate"><span class="pre">momics</span></code> will use. For S3, you need to provide the following information:</p>
<ol class="arabic simple">
<li><p>The access key and secret key for the S3 account.</p></li>
<li><p>The region where the bucket is located.</p></li>
<li><p>The name of a bucket where the repository will be created. You will need authorization to read from and write to this bucket.</p></li>
</ol>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[13]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">momics</span><span class="w"> </span><span class="kn">import</span> <span class="n">config</span> <span class="k">as</span> <span class="n">mconfig</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">os</span>

<span class="n">s3_access_key_id</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;AWS_ACCESS_KEY_ID&quot;</span><span class="p">)</span>
<span class="n">s3_secret_access_key</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;AWS_SECRET_ACCESS_KEY&quot;</span><span class="p">)</span>

<span class="n">s3_cfg</span> <span class="o">=</span> <span class="n">mconfig</span><span class="o">.</span><span class="n">S3Config</span><span class="p">(</span><span class="n">region</span><span class="o">=</span><span class="s2">&quot;eu-west-3&quot;</span><span class="p">,</span> <span class="n">access_key_id</span><span class="o">=</span><span class="n">s3_access_key_id</span><span class="p">,</span> <span class="n">secret_access_key</span><span class="o">=</span><span class="n">s3_secret_access_key</span><span class="p">)</span>
<span class="n">momics_cfg</span> <span class="o">=</span> <span class="n">mconfig</span><span class="o">.</span><span class="n">MomicsConfig</span><span class="p">(</span><span class="n">s3</span><span class="o">=</span><span class="n">s3_cfg</span><span class="p">)</span>
<span class="n">momics_cfg</span><span class="o">.</span><span class="n">cfg</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[13]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<table><tr><th>Parameter</th><th>Value</th></tr><tr><td>config.env_var_prefix</td><td>'TILEDB_'</td></tr><tr><td>config.logging_format</td><td>'DEFAULT'</td></tr><tr><td>config.logging_level</td><td>'0'</td></tr><tr><td>filestore.buffer_size</td><td>'104857600'</td></tr><tr><td>rest.capnp_traversal_limit</td><td>'2147483648'</td></tr><tr><td>rest.curl.buffer_size</td><td>'524288'</td></tr><tr><td>rest.curl.retry_errors</td><td>'true'</td></tr><tr><td>rest.curl.tcp_keepalive</td><td>'true'</td></tr><tr><td>rest.curl.verbose</td><td>'false'</td></tr><tr><td>rest.http_compressor</td><td>'any'</td></tr><tr><td>rest.load_enumerations_on_array_open</td><td>'false'</td></tr><tr><td>rest.load_enumerations_on_array_open_all_schemas</td><td>'false'</td></tr><tr><td>rest.load_metadata_on_array_open</td><td>'true'</td></tr><tr><td>rest.load_non_empty_domain_on_array_open</td><td>'true'</td></tr><tr><td>rest.payer_namespace</td><td>''</td></tr><tr><td>rest.retry_count</td><td>'25'</td></tr><tr><td>rest.retry_delay_factor</td><td>'1.25'</td></tr><tr><td>rest.retry_http_codes</td><td>'503'</td></tr><tr><td>rest.retry_initial_delay_ms</td><td>'500'</td></tr><tr><td>rest.server_address</td><td>'https://api.tiledb.com'</td></tr><tr><td>rest.server_serialization_format</td><td>'CAPNP'</td></tr><tr><td>rest.use_refactored_array_open</td><td>'true'</td></tr><tr><td>rest.use_refactored_array_open_and_query_submit</td><td>'true'</td></tr><tr><td>sm.allow_separate_attribute_writes</td><td>'false'</td></tr><tr><td>sm.allow_updates_experimental</td><td>'false'</td></tr><tr><td>sm.check_coord_dups</td><td>'true'</td></tr><tr><td>sm.check_coord_oob</td><td>'true'</td></tr><tr><td>sm.check_global_order</td><td>'true'</td></tr><tr><td>sm.compute_concurrency_level</td><td>'16'</td></tr><tr><td>sm.consolidation.amplification</td><td>'1.0'</td></tr><tr><td>sm.consolidation.buffer_size</td><td>'50000000'</td></tr><tr><td>sm.consolidation.max_fragment_size</td><td>'18446744073709551615'</td></tr><tr><td>sm.consolidation.mode</td><td>'fragments'</td></tr><tr><td>sm.consolidation.purge_deleted_cells</td><td>'false'</td></tr><tr><td>sm.consolidation.step_max_frags</td><td>'4294967295'</td></tr><tr><td>sm.consolidation.step_min_frags</td><td>'4294967295'</td></tr><tr><td>sm.consolidation.step_size_ratio</td><td>'0.0'</td></tr><tr><td>sm.consolidation.steps</td><td>'4294967295'</td></tr><tr><td>sm.consolidation.timestamp_end</td><td>'18446744073709551615'</td></tr><tr><td>sm.consolidation.timestamp_start</td><td>'0'</td></tr><tr><td>sm.dedup_coords</td><td>'false'</td></tr><tr><td>sm.enable_signal_handlers</td><td>'true'</td></tr><tr><td>sm.encryption_key</td><td>''</td></tr><tr><td>sm.encryption_type</td><td>'NO_ENCRYPTION'</td></tr><tr><td>sm.enumerations_max_size</td><td>'10485760'</td></tr><tr><td>sm.enumerations_max_total_size</td><td>'52428800'</td></tr><tr><td>sm.fragment_info.preload_mbrs</td><td>'false'</td></tr><tr><td>sm.group.timestamp_end</td><td>'18446744073709551615'</td></tr><tr><td>sm.group.timestamp_start</td><td>'0'</td></tr><tr><td>sm.io_concurrency_level</td><td>'16'</td></tr><tr><td>sm.max_tile_overlap_size</td><td>'314572800'</td></tr><tr><td>sm.mem.consolidation.buffers_weight</td><td>'1'</td></tr><tr><td>sm.mem.consolidation.reader_weight</td><td>'3'</td></tr><tr><td>sm.mem.consolidation.writer_weight</td><td>'2'</td></tr><tr><td>sm.mem.malloc_trim</td><td>'true'</td></tr><tr><td>sm.mem.reader.sparse_global_order.ratio_array_data</td><td>'0.1'</td></tr><tr><td>sm.mem.reader.sparse_global_order.ratio_coords</td><td>'0.5'</td></tr><tr><td>sm.mem.reader.sparse_global_order.ratio_tile_ranges</td><td>'0.1'</td></tr><tr><td>sm.mem.reader.sparse_unordered_with_dups.ratio_array_data</td><td>'0.1'</td></tr><tr><td>sm.mem.reader.sparse_unordered_with_dups.ratio_coords</td><td>'0.5'</td></tr><tr><td>sm.mem.reader.sparse_unordered_with_dups.ratio_tile_ranges</td><td>'0.1'</td></tr><tr><td>sm.mem.tile_upper_memory_limit</td><td>'1073741824'</td></tr><tr><td>sm.mem.total_budget</td><td>'10737418240'</td></tr><tr><td>sm.memory_budget</td><td>'5368709120'</td></tr><tr><td>sm.memory_budget_var</td><td>'10737418240'</td></tr><tr><td>sm.merge_overlapping_ranges_experimental</td><td>'true'</td></tr><tr><td>sm.partial_tile_offsets_loading</td><td>'false'</td></tr><tr><td>sm.query.dense.qc_coords_mode</td><td>'false'</td></tr><tr><td>sm.query.dense.reader</td><td>'refactored'</td></tr><tr><td>sm.query.sparse_global_order.reader</td><td>'refactored'</td></tr><tr><td>sm.query.sparse_unordered_with_dups.reader</td><td>'refactored'</td></tr><tr><td>sm.read_range_oob</td><td>'warn'</td></tr><tr><td>sm.skip_checksum_validation</td><td>'false'</td></tr><tr><td>sm.skip_est_size_partitioning</td><td>'false'</td></tr><tr><td>sm.skip_unary_partitioning_budget_check</td><td>'false'</td></tr><tr><td>sm.vacuum.mode</td><td>'fragments'</td></tr><tr><td>sm.var_offsets.bitsize</td><td>'64'</td></tr><tr><td>sm.var_offsets.extra_element</td><td>'false'</td></tr><tr><td>sm.var_offsets.mode</td><td>'bytes'</td></tr><tr><td>ssl.ca_file</td><td>''</td></tr><tr><td>ssl.ca_path</td><td>''</td></tr><tr><td>ssl.verify</td><td>'true'</td></tr><tr><td>vfs.azure.blob_endpoint</td><td>''</td></tr><tr><td>vfs.azure.block_list_block_size</td><td>'5242880'</td></tr><tr><td>vfs.azure.max_parallel_ops</td><td>'16'</td></tr><tr><td>vfs.azure.max_retries</td><td>'5'</td></tr><tr><td>vfs.azure.max_retry_delay_ms</td><td>'60000'</td></tr><tr><td>vfs.azure.retry_delay_ms</td><td>'800'</td></tr><tr><td>vfs.azure.storage_account_key</td><td>''</td></tr><tr><td>vfs.azure.storage_account_name</td><td>''</td></tr><tr><td>vfs.azure.storage_sas_token</td><td>''</td></tr><tr><td>vfs.azure.use_block_list_upload</td><td>'true'</td></tr><tr><td>vfs.file.posix_directory_permissions</td><td>'755'</td></tr><tr><td>vfs.file.posix_file_permissions</td><td>'644'</td></tr><tr><td>vfs.gcs.endpoint</td><td>''</td></tr><tr><td>vfs.gcs.impersonate_service_account</td><td>''</td></tr><tr><td>vfs.gcs.max_direct_upload_size</td><td>'10737418240'</td></tr><tr><td>vfs.gcs.max_parallel_ops</td><td>'16'</td></tr><tr><td>vfs.gcs.multi_part_size</td><td>'5242880'</td></tr><tr><td>vfs.gcs.project_id</td><td>''</td></tr><tr><td>vfs.gcs.request_timeout_ms</td><td>'3000'</td></tr><tr><td>vfs.gcs.service_account_key</td><td>''</td></tr><tr><td>vfs.gcs.use_multi_part_upload</td><td>'true'</td></tr><tr><td>vfs.gcs.workload_identity_configuration</td><td>''</td></tr><tr><td>vfs.hdfs.kerb_ticket_cache_path</td><td>''</td></tr><tr><td>vfs.hdfs.name_node_uri</td><td>''</td></tr><tr><td>vfs.hdfs.username</td><td>''</td></tr><tr><td>vfs.log_operations</td><td>'false'</td></tr><tr><td>vfs.max_batch_size</td><td>'104857600'</td></tr><tr><td>vfs.min_batch_gap</td><td>'512000'</td></tr><tr><td>vfs.min_batch_size</td><td>'20971520'</td></tr><tr><td>vfs.min_parallel_size</td><td>'10485760'</td></tr><tr><td>vfs.read_ahead_cache_size</td><td>'10485760'</td></tr><tr><td>vfs.read_ahead_size</td><td>'102400'</td></tr><tr><td>vfs.read_logging_mode</td><td>''</td></tr><tr><td>vfs.s3.aws_access_key_id</td><td>**********</td></tr><tr><td>vfs.s3.aws_external_id</td><td>''</td></tr><tr><td>vfs.s3.aws_load_frequency</td><td>''</td></tr><tr><td>vfs.s3.aws_role_arn</td><td>''</td></tr><tr><td>vfs.s3.aws_secret_access_key</td><td>**********</td></tr><tr><td>vfs.s3.aws_session_name</td><td>''</td></tr><tr><td>vfs.s3.aws_session_token</td><td>''</td></tr><tr><td>vfs.s3.bucket_canned_acl</td><td>'NOT_SET'</td></tr><tr><td>vfs.s3.ca_file</td><td>''</td></tr><tr><td>vfs.s3.ca_path</td><td>''</td></tr><tr><td>vfs.s3.config_source</td><td>'auto'</td></tr><tr><td>vfs.s3.connect_max_tries</td><td>'5'</td></tr><tr><td>vfs.s3.connect_scale_factor</td><td>'25'</td></tr><tr><td>vfs.s3.connect_timeout_ms</td><td>'10800'</td></tr><tr><td>vfs.s3.endpoint_override</td><td>''</td></tr><tr><td>vfs.s3.install_sigpipe_handler</td><td>'true'</td></tr><tr><td>vfs.s3.logging_level</td><td>'Off'</td></tr><tr><td>vfs.s3.max_parallel_ops</td><td>'16'</td></tr><tr><td>vfs.s3.multipart_part_size</td><td>'5242880'</td></tr><tr><td>vfs.s3.no_sign_request</td><td>'false'</td></tr><tr><td>vfs.s3.object_canned_acl</td><td>'NOT_SET'</td></tr><tr><td>vfs.s3.proxy_host</td><td>''</td></tr><tr><td>vfs.s3.proxy_password</td><td>''</td></tr><tr><td>vfs.s3.proxy_port</td><td>'0'</td></tr><tr><td>vfs.s3.proxy_scheme</td><td>'http'</td></tr><tr><td>vfs.s3.proxy_username</td><td>''</td></tr><tr><td>vfs.s3.region</td><td>'eu-west-3'</td></tr><tr><td>vfs.s3.request_timeout_ms</td><td>'3000'</td></tr><tr><td>vfs.s3.requester_pays</td><td>'false'</td></tr><tr><td>vfs.s3.scheme</td><td>'https'</td></tr><tr><td>vfs.s3.skip_init</td><td>'false'</td></tr><tr><td>vfs.s3.sse</td><td>''</td></tr><tr><td>vfs.s3.sse_kms_key_id</td><td>''</td></tr><tr><td>vfs.s3.storage_class</td><td>'NOT_SET'</td></tr><tr><td>vfs.s3.use_multipart_upload</td><td>'true'</td></tr><tr><td>vfs.s3.use_virtual_addressing</td><td>'true'</td></tr><tr><td>vfs.s3.verify_ssl</td><td>'true'</td></tr></table></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[14]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;The registered S3 secret access key starts with: &quot;</span> <span class="o">+</span> <span class="n">momics_cfg</span><span class="o">.</span><span class="n">cfg</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;vfs.s3.aws_secret_access_key&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">:</span><span class="mi">10</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot;...&quot;</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[14]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&#39;The registered S3 secret access key starts with: aN9K4FIvyB...&#39;
</pre></div></div>
</div>
<p>Now that the S3 configuration is set up, you can create a <code class="docutils literal notranslate"><span class="pre">momics</span></code> repository as you would do locally. The only two differences is that you need to 1) use the <code class="docutils literal notranslate"><span class="pre">s3://&lt;your_bucket&gt;</span></code> protocol and 2) provide the S3 configuration to the <code class="docutils literal notranslate"><span class="pre">Repository</span></code> object.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[15]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">momics.momics</span><span class="w"> </span><span class="kn">import</span> <span class="n">Momics</span>

<span class="n">mom</span> <span class="o">=</span> <span class="n">Momics</span><span class="p">(</span><span class="s2">&quot;s3://momics/my_repo.mom&quot;</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="n">momics_cfg</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
momics :: INFO :: 2025-03-26 13:02:28,330 :: Created s3://momics/my_repo.mom
</pre></div></div>
</div>
<p>If the repository does not exist, it will be automatically created, and a log message will be displayed. If the repository already exists, it will be opened and you can directly interact with it.</p>
<p>Now that we created a repository, let’s try and fetch chromosome sizes from it!</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[16]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mom</span><span class="o">.</span><span class="n">chroms</span><span class="p">()</span>
<span class="s2">&quot;Number of chromosomes: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">mom</span><span class="o">.</span><span class="n">chroms</span><span class="p">()))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[16]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&#39;Number of chromosomes: 0&#39;
</pre></div></div>
</div>
<p>We can see that chromosomes have not been added to the repository yet. This is because we have just created the repository and it is empty. In the next section, we will see how to add data to the repository.</p>
<p><strong>Note:</strong></p>
<p>Note that we do not provide the <code class="docutils literal notranslate"><span class="pre">config</span></code> argument to the <code class="docutils literal notranslate"><span class="pre">chroms()</span></code> method. In fact, the config is stored in the variable itself.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[17]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mom</span><span class="o">.</span><span class="n">cfg</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[17]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&lt;momics.config.MomicsConfig at 0x76ad09966950&gt;
</pre></div></div>
</div>
<p>On top of storing the secrets required to access the cloud storage service, the <code class="docutils literal notranslate"><span class="pre">MomicsConfig</span></code> object extends the <code class="docutils literal notranslate"><span class="pre">TileDB</span></code> configuration object. This means that you can leverage additional TileDB configuration functionalities to interact with your repository! A notable example is the TileDB virtual file system (VFS) implementation which allows you to interact with files and directories located on a cloud storage services in a seamless manner.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[18]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mom</span><span class="o">.</span><span class="n">cfg</span><span class="o">.</span><span class="n">vfs</span><span class="o">.</span><span class="n">ls_recursive</span><span class="p">(</span><span class="n">mom</span><span class="o">.</span><span class="n">path</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[18]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[&#39;s3://momics/my_repo.mom/__tiledb_group.tdb&#39;,
 &#39;s3://momics/my_repo.mom/annotations/__tiledb_group.tdb&#39;,
 &#39;s3://momics/my_repo.mom/coverage/__tiledb_group.tdb&#39;,
 &#39;s3://momics/my_repo.mom/genome/__tiledb_group.tdb&#39;]
</pre></div></div>
</div>
<p>So far, the repository does not contain any data.</p>
</section>
<section id="Adding-data-to-the-repository">
<h2>Adding data to the repository<a class="headerlink" href="#Adding-data-to-the-repository" title="Link to this heading">¶</a></h2>
<p>Just like local repositories, populating a cloud-hosted repository has to start with registering chromosomes.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[19]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">## We will get chromosome sizes from a local fasta file.</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">pyfaidx</span><span class="w"> </span><span class="kn">import</span> <span class="n">Fasta</span>

<span class="n">f</span> <span class="o">=</span> <span class="n">Fasta</span><span class="p">(</span><span class="s2">&quot;/home/jaseriza/repos/momics/data/S288c.fa&quot;</span><span class="p">)</span>
<span class="n">chrom_lengths</span> <span class="o">=</span> <span class="p">{</span><span class="n">chrom</span><span class="p">:</span> <span class="nb">len</span><span class="p">(</span><span class="n">seq</span><span class="p">)</span> <span class="k">for</span> <span class="n">chrom</span><span class="p">,</span> <span class="n">seq</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">keys</span><span class="p">(),</span> <span class="n">f</span><span class="o">.</span><span class="n">values</span><span class="p">())}</span>

<span class="n">mom</span><span class="o">.</span><span class="n">ingest_chroms</span><span class="p">(</span><span class="n">chrom_lengths</span><span class="p">,</span> <span class="n">genome_version</span><span class="o">=</span><span class="s2">&quot;S288c&quot;</span><span class="p">)</span>
<span class="n">mom</span><span class="o">.</span><span class="n">chroms</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[19]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>chrom_index</th>
      <th>chrom</th>
      <th>length</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0</td>
      <td>I</td>
      <td>230218</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1</td>
      <td>II</td>
      <td>813184</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2</td>
      <td>III</td>
      <td>316620</td>
    </tr>
    <tr>
      <th>3</th>
      <td>3</td>
      <td>IV</td>
      <td>1531933</td>
    </tr>
    <tr>
      <th>4</th>
      <td>4</td>
      <td>V</td>
      <td>576874</td>
    </tr>
    <tr>
      <th>5</th>
      <td>5</td>
      <td>VI</td>
      <td>270161</td>
    </tr>
    <tr>
      <th>6</th>
      <td>6</td>
      <td>VII</td>
      <td>1090940</td>
    </tr>
    <tr>
      <th>7</th>
      <td>7</td>
      <td>VIII</td>
      <td>562643</td>
    </tr>
    <tr>
      <th>8</th>
      <td>8</td>
      <td>IX</td>
      <td>439888</td>
    </tr>
    <tr>
      <th>9</th>
      <td>9</td>
      <td>X</td>
      <td>745751</td>
    </tr>
    <tr>
      <th>10</th>
      <td>10</td>
      <td>XI</td>
      <td>666816</td>
    </tr>
    <tr>
      <th>11</th>
      <td>11</td>
      <td>XII</td>
      <td>1078177</td>
    </tr>
    <tr>
      <th>12</th>
      <td>12</td>
      <td>XIII</td>
      <td>924431</td>
    </tr>
    <tr>
      <th>13</th>
      <td>13</td>
      <td>XIV</td>
      <td>784333</td>
    </tr>
    <tr>
      <th>14</th>
      <td>14</td>
      <td>XV</td>
      <td>1091291</td>
    </tr>
    <tr>
      <th>15</th>
      <td>15</td>
      <td>XVI</td>
      <td>948066</td>
    </tr>
    <tr>
      <th>16</th>
      <td>16</td>
      <td>Mito</td>
      <td>85779</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<p>Once the chromosomes are registered, you can ingest data, e.g. genomic sequence or genomic features, to the repository.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[20]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">## Ingesting genome reference sequence</span>
<span class="n">mom</span><span class="o">.</span><span class="n">ingest_sequence</span><span class="p">(</span><span class="s2">&quot;/home/jaseriza/repos/momics/data/S288c.fa&quot;</span><span class="p">)</span>
<span class="n">mom</span><span class="o">.</span><span class="n">seq</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
momics :: INFO :: 2025-03-26 13:03:15,131 :: Genome sequence ingested in 45.5691s.
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[20]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>chrom_index</th>
      <th>chrom</th>
      <th>length</th>
      <th>seq</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0</td>
      <td>I</td>
      <td>230218</td>
      <td>CCACACCACA...TGTGTGTGGG</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1</td>
      <td>II</td>
      <td>813184</td>
      <td>AAATAGCCCT...GTGGGTGTGT</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2</td>
      <td>III</td>
      <td>316620</td>
      <td>CCCACACACC...GGTGTGTGTG</td>
    </tr>
    <tr>
      <th>3</th>
      <td>3</td>
      <td>IV</td>
      <td>1531933</td>
      <td>ACACCACACC...TAGCTTTTGG</td>
    </tr>
    <tr>
      <th>4</th>
      <td>4</td>
      <td>V</td>
      <td>576874</td>
      <td>CGTCTCCTCC...TTTTTTTTTT</td>
    </tr>
    <tr>
      <th>5</th>
      <td>5</td>
      <td>VI</td>
      <td>270161</td>
      <td>GATCTCGCAA...TGGTGTGTGG</td>
    </tr>
    <tr>
      <th>6</th>
      <td>6</td>
      <td>VII</td>
      <td>1090940</td>
      <td>CCACACCCAC...TTTTTTTTTT</td>
    </tr>
    <tr>
      <th>7</th>
      <td>7</td>
      <td>VIII</td>
      <td>562643</td>
      <td>CCCACACACA...GTGTGTGTGG</td>
    </tr>
    <tr>
      <th>8</th>
      <td>8</td>
      <td>IX</td>
      <td>439888</td>
      <td>CACACACACC...GTGTGTGTGT</td>
    </tr>
    <tr>
      <th>9</th>
      <td>9</td>
      <td>X</td>
      <td>745751</td>
      <td>CCCACACACA...GTGTGGGTGT</td>
    </tr>
    <tr>
      <th>10</th>
      <td>10</td>
      <td>XI</td>
      <td>666816</td>
      <td>CACCACACCC...GTGTGTGTGT</td>
    </tr>
    <tr>
      <th>11</th>
      <td>11</td>
      <td>XII</td>
      <td>1078177</td>
      <td>CACACACACA...AGGGCTATTT</td>
    </tr>
    <tr>
      <th>12</th>
      <td>12</td>
      <td>XIII</td>
      <td>924431</td>
      <td>CCACACACAC...GTGTGTGGGG</td>
    </tr>
    <tr>
      <th>13</th>
      <td>13</td>
      <td>XIV</td>
      <td>784333</td>
      <td>CCGGCTTTCT...TGGTGTGGGT</td>
    </tr>
    <tr>
      <th>14</th>
      <td>14</td>
      <td>XV</td>
      <td>1091291</td>
      <td>ACACCACACC...TGTGGTGTGT</td>
    </tr>
    <tr>
      <th>15</th>
      <td>15</td>
      <td>XVI</td>
      <td>948066</td>
      <td>AAATAGCCCT...CGGTCAGAAA</td>
    </tr>
    <tr>
      <th>16</th>
      <td>16</td>
      <td>Mito</td>
      <td>85779</td>
      <td>TTCATAATTA...AATATCCATA</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[21]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">## Ingesting genome-wide tracks</span>
<span class="n">mom</span><span class="o">.</span><span class="n">ingest_tracks</span><span class="p">(</span>
    <span class="p">{</span>
        <span class="s2">&quot;atac&quot;</span><span class="p">:</span> <span class="s2">&quot;/home/jaseriza/repos/momics/data/S288c_atac.bw&quot;</span><span class="p">,</span>
        <span class="s2">&quot;rna&quot;</span><span class="p">:</span> <span class="s2">&quot;/home/jaseriza/repos/momics/data/S288c_rna.bw&quot;</span><span class="p">,</span>
        <span class="s2">&quot;scc1&quot;</span><span class="p">:</span> <span class="s2">&quot;/home/jaseriza/repos/momics/data/S288c_scc1.bw&quot;</span><span class="p">,</span>
        <span class="s2">&quot;mnase&quot;</span><span class="p">:</span> <span class="s2">&quot;/home/jaseriza/repos/momics/data/S288c_mnase.bw&quot;</span><span class="p">,</span>
    <span class="p">}</span>
<span class="p">)</span>
<span class="n">mom</span><span class="o">.</span><span class="n">tracks</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
momics :: INFO :: 2025-03-26 13:05:24,462 :: 4 tracks ingested in 125.4654s.
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[21]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>idx</th>
      <th>label</th>
      <th>path</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0</td>
      <td>atac</td>
      <td>/home/jaseriza/repos/momics/data/S288c_atac.bw</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1</td>
      <td>rna</td>
      <td>/home/jaseriza/repos/momics/data/S288c_rna.bw</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2</td>
      <td>scc1</td>
      <td>/home/jaseriza/repos/momics/data/S288c_scc1.bw</td>
    </tr>
    <tr>
      <th>3</th>
      <td>3</td>
      <td>mnase</td>
      <td>/home/jaseriza/repos/momics/data/S288c_mnase.bw</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
</section>
<section id="Deleting-a-repository">
<h2>Deleting a repository<a class="headerlink" href="#Deleting-a-repository" title="Link to this heading">¶</a></h2>
<p>To delete a repository, you can use the <code class="docutils literal notranslate"><span class="pre">remove()</span></code> method on the repository object. This will delete the repository and all its contents. Now that this notebook is complete, we can delete the repository :)</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[22]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mom</span><span class="o">.</span><span class="n">remove</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
momics :: INFO :: 2025-03-26 13:05:26,435 :: Purged s3://momics/my_repo.mom
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[22]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
True
</pre></div></div>
</div>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="../api/index.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">API Reference</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="nn-training-any2cov.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Train neural networks with <code class="docutils literal notranslate"><span class="pre">momics</span></code> and <code class="docutils literal notranslate"><span class="pre">tensorflow</span></code></div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2023-2025, Jacques Serizay
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            <div class="last-updated">
              Last updated on Apr 30, 2025</div>
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Managing cloud-hosted <code class="docutils literal notranslate"><span class="pre">momics</span></code> repositories</a><ul>
<li><a class="reference internal" href="#Prerequisites">Prerequisites</a></li>
<li><a class="reference internal" href="#Creating-a-momics-repository-on-an-S3-bucket">Creating a <code class="docutils literal notranslate"><span class="pre">momics</span></code> repository on an S3 bucket</a></li>
<li><a class="reference internal" href="#Adding-data-to-the-repository">Adding data to the repository</a></li>
<li><a class="reference internal" href="#Deleting-a-repository">Deleting a repository</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="../_static/documentation_options.js?v=183391d5"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/scripts/furo.js?v=5fa4622c"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    </body>
</html>